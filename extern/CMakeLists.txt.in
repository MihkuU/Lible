cmake_minimum_required(VERSION 3.20)

project(lible_external_libs)

include(ExternalProject)

# armadillo library
set(arma_dir "@CMAKE_BINARY_DIR@/extern/arma")
ExternalProject_Add(arma
	URL 					   "@CMAKE_SOURCE_DIR@/extern/armadillo-12.4.1.tar.xz"
	SOURCE_DIR 		           "${arma_dir}"
    CONFIGURE_COMMAND 
		"${CMAKE_COMMAND}" -E env "${arma_dir}/configure" "${arma_dir}/"
	BUILD_COMMAND     
		cmake ${arma_dir} . -DCMAKE_INSTALL_PREFIX:PATH=${arma_dir}/build
    TEST_COMMAND      ""
	BUILD_ALWAYS	  		   OFF
	DOWNLOAD_EXTRACT_TIMESTAMP FALSE
)
#target_include_directories(lible PUBLIC ${arma_dir}/build/include)

# fmt library
set(fmt_dir "@CMAKE_BINARY_DIR@/extern/fmt")
ExternalProject_Add(fmt
	URL 			           "@CMAKE_SOURCE_DIR@/extern/fmt-master.zip"
	SOURCE_DIR                 "${fmt_dir}"
	CONFIGURE_COMMAND          ""
	BUILD_COMMAND 	           ""
	INSTALL_COMMAND            ""
	TEST_COMMAND               ""
	DOWNLOAD_EXTRACT_TIMESTAMP FALSE
)

# json library
set(json_dir "@CMAKE_BINARY_DIR@/extern/json")
ExternalProject_Add(json
	URL                        "@CMAKE_SOURCE_DIR@/extern/json-develop.zip"
	SOURCE_DIR                 "${json_dir}"
	CONFIGURE_COMMAND          ""
	BUILD_COMMAND              ""
	INSTALL_COMMAND            ""
	TEST_COMMAND               ""
	DOWNLOAD_EXTRACT_TIMESTAMP FALSE
)